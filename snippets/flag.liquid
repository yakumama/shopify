{% comment %}
    Render flag icon by iso country code. Use UTF symbols from currenct font.

    Accepts:
     - country_code:  {String}
     - language_code: {Number}
     - flag_as_img:   {String}
{% endcomment %}

{%- liquid
    if country_code == null
        case language_code
            when 'en'
                assign country_code = 'gb'
            when 'zh-CN'
                assign country_code = 'cn'
            else
                assign country_code = language_code
        endcase
    else
        assign country_code = country_code | downcase
    endif

    echo '<i data-code="'
    echo country_code
    if flag_as_img
        echo '" data-has-fallback="true"><img src="https://hatscripts.github.io/circle-flags/flags/'
        echo country_code
        echo '.svg" loading="lazy" alt="'
        echo country_code
        echo '" />'
    else
        echo '">'
    endif

    case country_code
        when 'ad'
            echo '&#x1f1e6;&#x1f1e9;'
        when 'ae'
            echo '&#x1f1e6;&#x1f1ea;'
        when 'af'
            echo '&#x1f1e6;&#x1f1eb;'
        when 'ag'
            echo '&#x1f1e6;&#x1f1ec;'
        when 'ai'
            echo '&#x1f1e6;&#x1f1ee;'
        when 'al'
            echo '&#x1f1e6;&#x1f1f1;'
        when 'am'
            echo '&#x1f1e6;&#x1f1f2;'
        when 'ao'
            echo '&#x1f1e6;&#x1f1f4;'
        when 'aq'
            echo '&#x1f1e6;&#x1f1f6;'
        when 'ar'
            echo '&#x1f1e6;&#x1f1f7;'
        when 'as'
            echo '&#x1f1e6;&#x1f1f8;'
        when 'at'
            echo '&#x1f1e6;&#x1f1f9;'
        when 'au'
            echo '&#x1f1e6;&#x1f1fa;'
        when 'aw'
            echo '&#x1f1e6;&#x1f1fc;'
        when 'ax'
            echo '&#x1f1e6;&#x1f1fd;'
        when 'az'
            echo '&#x1f1e6;&#x1f1ff;'
        when 'ba'
            echo '&#x1f1e7;&#x1f1e6;'
        when 'bb'
            echo '&#x1f1e7;&#x1f1e7;'
        when 'bd'
            echo '&#x1f1e7;&#x1f1e9;'
        when 'be'
            echo '&#x1f1e7;&#x1f1ea;'
        when 'bf'
            echo '&#x1f1e7;&#x1f1eb;'
        when 'bg'
            echo '&#x1f1e7;&#x1f1ec;'
        when 'bh'
            echo '&#x1f1e7;&#x1f1ed;'
        when 'bi'
            echo '&#x1f1e7;&#x1f1ee;'
        when 'bj'
            echo '&#x1f1e7;&#x1f1ef;'
        when 'bl'
            echo '&#x1f1e7;&#x1f1f1;'
        when 'bm'
            echo '&#x1f1e7;&#x1f1f2;'
        when 'bn'
            echo '&#x1f1e7;&#x1f1f3;'
        when 'bo'
            echo '&#x1f1e7;&#x1f1f4;'
        when 'bq'
            echo '&#x1f1e7;&#x1f1f6;'
        when 'br'
            echo '&#x1f1e7;&#x1f1f7;'
        when 'bs'
            echo '&#x1f1e7;&#x1f1f8;'
        when 'bt'
            echo '&#x1f1e7;&#x1f1f9;'
        when 'bv'
            echo '&#x1f1e7;&#x1f1fb;'
        when 'bw'
            echo '&#x1f1e7;&#x1f1fc;'
        when 'by'
            echo '&#x1f1e7;&#x1f1fe;'
        when 'bz'
            echo '&#x1f1e7;&#x1f1ff;'
        when 'ca'
            echo '&#x1f1e8;&#x1f1e6;'
        when 'cc'
            echo '&#x1f1e8;&#x1f1e8;'
        when 'cd'
            echo '&#x1f1e8;&#x1f1e9;'
        when 'cf'
            echo '&#x1f1e8;&#x1f1eb;'
        when 'cg'
            echo '&#x1f1e8;&#x1f1ec;'
        when 'ch'
            echo '&#x1f1e8;&#x1f1ed;'
        when 'ci'
            echo '&#x1f1e8;&#x1f1ee;'
        when 'ck'
            echo '&#x1f1e8;&#x1f1f0;'
        when 'cl'
            echo '&#x1f1e8;&#x1f1f1;'
        when 'cm'
            echo '&#x1f1e8;&#x1f1f2;'
        when 'cn'
            echo '&#x1f1e8;&#x1f1f3;'
        when 'co'
            echo '&#x1f1e8;&#x1f1f4;'
        when 'cr'
            echo '&#x1f1e8;&#x1f1f7;'
        when 'cu'
            echo '&#x1f1e8;&#x1f1fa;'
        when 'cv'
            echo '&#x1f1e8;&#x1f1fb;'
        when 'cw'
            echo '&#x1f1e8;&#x1f1fc;'
        when 'cx'
            echo '&#x1f1e8;&#x1f1fd;'
        when 'cy'
            echo '&#x1f1e8;&#x1f1fe;'
        when 'cz'
            echo '&#x1f1e8;&#x1f1ff;'
        when 'de'
            echo '&#x1f1e9;&#x1f1ea;'
        when 'dg'
            echo '&#x1f1e9;&#x1f1ec;'
        when 'dj'
            echo '&#x1f1e9;&#x1f1ef;'
        when 'dk'
            echo '&#x1f1e9;&#x1f1f0;'
        when 'dm'
            echo '&#x1f1e9;&#x1f1f2;'
        when 'do'
            echo '&#x1f1e9;&#x1f1f4;'
        when 'dz'
            echo '&#x1f1e9;&#x1f1ff;'
        when 'ec'
            echo '&#x1f1ea;&#x1f1e8;'
        when 'ee'
            echo '&#x1f1ea;&#x1f1ea;'
        when 'eg'
            echo '&#x1f1ea;&#x1f1ec;'
        when 'eh'
            echo '&#x1f1ea;&#x1f1ed;'
        when 'er'
            echo '&#x1f1ea;&#x1f1f7;'
        when 'es'
            echo '&#x1f1ea;&#x1f1f8;'
        when 'et'
            echo '&#x1f1ea;&#x1f1f9;'
        when 'fi'
            echo '&#x1f1eb;&#x1f1ee;'
        when 'fj'
            echo '&#x1f1eb;&#x1f1ef;'
        when 'fk'
            echo '&#x1f1eb;&#x1f1f0;'
        when 'fm'
            echo '&#x1f1eb;&#x1f1f2;'
        when 'fo'
            echo '&#x1f1eb;&#x1f1f4;'
        when 'fr'
            echo '&#x1f1eb;&#x1f1f7;'
        when 'ga'
            echo '&#x1f1ec;&#x1f1e6;'
        when 'gb'
            echo '&#x1f1ec;&#x1f1e7;'
        when 'gd'
            echo '&#x1f1ec;&#x1f1e9;'
        when 'ge'
            echo '&#x1f1ec;&#x1f1ea;'
        when 'gf'
            echo '&#x1f1ec;&#x1f1eb;'
        when 'gg'
            echo '&#x1f1ec;&#x1f1ec;'
        when 'gh'
            echo '&#x1f1ec;&#x1f1ed;'
        when 'gi'
            echo '&#x1f1ec;&#x1f1ee;'
        when 'gl'
            echo '&#x1f1ec;&#x1f1f1;'
        when 'gm'
            echo '&#x1f1ec;&#x1f1f2;'
        when 'gn'
            echo '&#x1f1ec;&#x1f1f3;'
        when 'gp'
            echo '&#x1f1ec;&#x1f1f5;'
        when 'gq'
            echo '&#x1f1ec;&#x1f1f6;'
        when 'gr'
            echo '&#x1f1ec;&#x1f1f7;'
        when 'gs'
            echo '&#x1f1ec;&#x1f1f8;'
        when 'gt'
            echo '&#x1f1ec;&#x1f1f9;'
        when 'gu'
            echo '&#x1f1ec;&#x1f1fa;'
        when 'gw'
            echo '&#x1f1ec;&#x1f1fc;'
        when 'gy'
            echo '&#x1f1ec;&#x1f1fe;'
        when 'hk'
            echo '&#x1f1ed;&#x1f1f0;'
        when 'hm'
            echo '&#x1f1ed;&#x1f1f2;'
        when 'hn'
            echo '&#x1f1ed;&#x1f1f3;'
        when 'hr'
            echo '&#x1f1ed;&#x1f1f7;'
        when 'ht'
            echo '&#x1f1ed;&#x1f1f9;'
        when 'hu'
            echo '&#x1f1ed;&#x1f1fa;'
        when 'id'
            echo '&#x1f1ee;&#x1f1e9;'
        when 'ie'
            echo '&#x1f1ee;&#x1f1ea;'
        when 'il'
            echo '&#x1f1ee;&#x1f1f1;'
        when 'im'
            echo '&#x1f1ee;&#x1f1f2;'
        when 'in'
            echo '&#x1f1ee;&#x1f1f3;'
        when 'io'
            echo '&#x1f1ee;&#x1f1f4;'
        when 'iq'
            echo '&#x1f1ee;&#x1f1f6;'
        when 'ir'
            echo '&#x1f1ee;&#x1f1f7;'
        when 'is'
            echo '&#x1f1ee;&#x1f1f8;'
        when 'it'
            echo '&#x1f1ee;&#x1f1f9;'
        when 'je'
            echo '&#x1f1ef;&#x1f1ea;'
        when 'jm'
            echo '&#x1f1ef;&#x1f1f2;'
        when 'jo'
            echo '&#x1f1ef;&#x1f1f4;'
        when 'jp'
            echo '&#x1f1ef;&#x1f1f5;'
        when 'ke'
            echo '&#x1f1f0;&#x1f1ea;'
        when 'kg'
            echo '&#x1f1f0;&#x1f1ec;'
        when 'kh'
            echo '&#x1f1f0;&#x1f1ed;'
        when 'ki'
            echo '&#x1f1f0;&#x1f1ee;'
        when 'km'
            echo '&#x1f1f0;&#x1f1f2;'
        when 'kn'
            echo '&#x1f1f0;&#x1f1f3;'
        when 'kp'
            echo '&#x1f1f0;&#x1f1f5;'
        when 'kr'
            echo '&#x1f1f0;&#x1f1f7;'
        when 'kw'
            echo '&#x1f1f0;&#x1f1fc;'
        when 'ky'
            echo '&#x1f1f0;&#x1f1fe;'
        when 'kz'
            echo '&#x1f1f0;&#x1f1ff;'
        when 'la'
            echo '&#x1f1f1;&#x1f1e6;'
        when 'lb'
            echo '&#x1f1f1;&#x1f1e7;'
        when 'lc'
            echo '&#x1f1f1;&#x1f1e8;'
        when 'li'
            echo '&#x1f1f1;&#x1f1ee;'
        when 'lk'
            echo '&#x1f1f1;&#x1f1f0;'
        when 'lr'
            echo '&#x1f1f1;&#x1f1f7;'
        when 'ls'
            echo '&#x1f1f1;&#x1f1f8;'
        when 'lt'
            echo '&#x1f1f1;&#x1f1f9;'
        when 'lu'
            echo '&#x1f1f1;&#x1f1fa;'
        when 'lv'
            echo '&#x1f1f1;&#x1f1fb;'
        when 'ly'
            echo '&#x1f1f1;&#x1f1fe;'
        when 'ma'
            echo '&#x1f1f2;&#x1f1e6;'
        when 'mc'
            echo '&#x1f1f2;&#x1f1e8;'
        when 'md'
            echo '&#x1f1f2;&#x1f1e9;'
        when 'me'
            echo '&#x1f1f2;&#x1f1ea;'
        when 'mf'
            echo '&#x1f1f2;&#x1f1eb;'
        when 'mg'
            echo '&#x1f1f2;&#x1f1ec;'
        when 'mh'
            echo '&#x1f1f2;&#x1f1ed;'
        when 'mk'
            echo '&#x1f1f2;&#x1f1f0;'
        when 'ml'
            echo '&#x1f1f2;&#x1f1f1;'
        when 'mm'
            echo '&#x1f1f2;&#x1f1f2;'
        when 'mn'
            echo '&#x1f1f2;&#x1f1f3;'
        when 'mo'
            echo '&#x1f1f2;&#x1f1f4;'
        when 'mp'
            echo '&#x1f1f2;&#x1f1f5;'
        when 'mq'
            echo '&#x1f1f2;&#x1f1f6;'
        when 'mr'
            echo '&#x1f1f2;&#x1f1f7;'
        when 'ms'
            echo '&#x1f1f2;&#x1f1f8;'
        when 'mt'
            echo '&#x1f1f2;&#x1f1f9;'
        when 'mu'
            echo '&#x1f1f2;&#x1f1fa;'
        when 'mv'
            echo '&#x1f1f2;&#x1f1fb;'
        when 'mw'
            echo '&#x1f1f2;&#x1f1fc;'
        when 'mx'
            echo '&#x1f1f2;&#x1f1fd;'
        when 'my'
            echo '&#x1f1f2;&#x1f1fe;'
        when 'mz'
            echo '&#x1f1f2;&#x1f1ff;'
        when 'na'
            echo '&#x1f1f3;&#x1f1e6;'
        when 'nc'
            echo '&#x1f1f3;&#x1f1e8;'
        when 'ne'
            echo '&#x1f1f3;&#x1f1ea;'
        when 'nf'
            echo '&#x1f1f3;&#x1f1eb;'
        when 'ng'
            echo '&#x1f1f3;&#x1f1ec;'
        when 'ni'
            echo '&#x1f1f3;&#x1f1ee;'
        when 'nl'
            echo '&#x1f1f3;&#x1f1f1;'
        when 'no'
            echo '&#x1f1f3;&#x1f1f4;'
        when 'np'
            echo '&#x1f1f3;&#x1f1f5;'
        when 'nr'
            echo '&#x1f1f3;&#x1f1f7;'
        when 'nu'
            echo '&#x1f1f3;&#x1f1fa;'
        when 'nz'
            echo '&#x1f1f3;&#x1f1ff;'
        when 'om'
            echo '&#x1f1f4;&#x1f1f2;'
        when 'pa'
            echo '&#x1f1f5;&#x1f1e6;'
        when 'pe'
            echo '&#x1f1f5;&#x1f1ea;'
        when 'pf'
            echo '&#x1f1f5;&#x1f1eb;'
        when 'pg'
            echo '&#x1f1f5;&#x1f1ec;'
        when 'ph'
            echo '&#x1f1f5;&#x1f1ed;'
        when 'pk'
            echo '&#x1f1f5;&#x1f1f0;'
        when 'pl'
            echo '&#x1f1f5;&#x1f1f1;'
        when 'pm'
            echo '&#x1f1f5;&#x1f1f2;'
        when 'pn'
            echo '&#x1f1f5;&#x1f1f3;'
        when 'pr'
            echo '&#x1f1f5;&#x1f1f7;'
        when 'ps'
            echo '&#x1f1f5;&#x1f1f8;'
        when 'pt'
            echo '&#x1f1f5;&#x1f1f9;'
        when 'pw'
            echo '&#x1f1f5;&#x1f1fc;'
        when 'py'
            echo '&#x1f1f5;&#x1f1fe;'
        when 'qa'
            echo '&#x1f1f6;&#x1f1e6;'
        when 're'
            echo '&#x1f1f7;&#x1f1ea;'
        when 'ro'
            echo '&#x1f1f7;&#x1f1f4;'
        when 'rs'
            echo '&#x1f1f7;&#x1f1f8;'
        when 'ru'
            echo '&#x1f1f7;&#x1f1fa;'
        when 'rw'
            echo '&#x1f1f7;&#x1f1fc;'
        when 'sa'
            echo '&#x1f1f8;&#x1f1e6;'
        when 'sb'
            echo '&#x1f1f8;&#x1f1e7;'
        when 'sc'
            echo '&#x1f1f8;&#x1f1e8;'
        when 'sd'
            echo '&#x1f1f8;&#x1f1e9;'
        when 'se'
            echo '&#x1f1f8;&#x1f1ea;'
        when 'sg'
            echo '&#x1f1f8;&#x1f1ec;'
        when 'sh'
            echo '&#x1f1f8;&#x1f1ed;'
        when 'si'
            echo '&#x1f1f8;&#x1f1ee;'
        when 'sj'
            echo '&#x1f1f8;&#x1f1ef;'
        when 'sk'
            echo '&#x1f1f8;&#x1f1f0;'
        when 'sl'
            echo '&#x1f1f8;&#x1f1f1;'
        when 'sm'
            echo '&#x1f1f8;&#x1f1f2;'
        when 'sn'
            echo '&#x1f1f8;&#x1f1f3;'
        when 'so'
            echo '&#x1f1f8;&#x1f1f4;'
        when 'sr'
            echo '&#x1f1f8;&#x1f1f7;'
        when 'ss'
            echo '&#x1f1f8;&#x1f1f8;'
        when 'st'
            echo '&#x1f1f8;&#x1f1f9;'
        when 'sv'
            echo '&#x1f1f8;&#x1f1fb;'
        when 'sx'
            echo '&#x1f1f8;&#x1f1fd;'
        when 'sy'
            echo '&#x1f1f8;&#x1f1fe;'
        when 'sz'
            echo '&#x1f1f8;&#x1f1ff;'
        when 'tc'
            echo '&#x1f1f9;&#x1f1e8;'
        when 'td'
            echo '&#x1f1f9;&#x1f1e9;'
        when 'tf'
            echo '&#x1f1f9;&#x1f1eb;'
        when 'tg'
            echo '&#x1f1f9;&#x1f1ec;'
        when 'th'
            echo '&#x1f1f9;&#x1f1ed;'
        when 'tj'
            echo '&#x1f1f9;&#x1f1ef;'
        when 'tk'
            echo '&#x1f1f9;&#x1f1f0;'
        when 'tl'
            echo '&#x1f1f9;&#x1f1f1;'
        when 'tm'
            echo '&#x1f1f9;&#x1f1f2;'
        when 'tn'
            echo '&#x1f1f9;&#x1f1f3;'
        when 'to'
            echo '&#x1f1f9;&#x1f1f4;'
        when 'tr'
            echo '&#x1f1f9;&#x1f1f7;'
        when 'tt'
            echo '&#x1f1f9;&#x1f1f9;'
        when 'tv'
            echo '&#x1f1f9;&#x1f1fb;'
        when 'tw'
            echo '&#x1f1f9;&#x1f1fc;'
        when 'tz'
            echo '&#x1f1f9;&#x1f1ff;'
        when 'ua'
            echo '&#x1f1fa;&#x1f1e6;'
        when 'ug'
            echo '&#x1f1fa;&#x1f1ec;'
        when 'um'
            echo '&#x1f1fa;&#x1f1f2;'
        when 'us'
            echo '&#x1f1fa;&#x1f1f8;'
        when 'uy'
            echo '&#x1f1fa;&#x1f1fe;'
        when 'uz'
            echo '&#x1f1fa;&#x1f1ff;'
        when 'va'
            echo '&#x1f1fb;&#x1f1e6;'
        when 'vc'
            echo '&#x1f1fb;&#x1f1e8;'
        when 've'
            echo '&#x1f1fb;&#x1f1ea;'
        when 'vg'
            echo '&#x1f1fb;&#x1f1ec;'
        when 'vi'
            echo '&#x1f1fb;&#x1f1ee;'
        when 'vn'
            echo '&#x1f1fb;&#x1f1f3;'
        when 'vu'
            echo '&#x1f1fb;&#x1f1fa;'
        when 'wf'
            echo '&#x1f1fc;&#x1f1eb;'
        when 'ws'
            echo '&#x1f1fc;&#x1f1f8;'
        when 'xk'
            echo '&#x1f1fd;&#x1f1f0;'
        when 'ye'
            echo '&#x1f1fe;&#x1f1ea;'
        when 'yt'
            echo '&#x1f1fe;&#x1f1f9;'
        when 'za'
            echo '&#x1f1ff;&#x1f1e6;'
        when 'zm'
            echo '&#x1f1ff;&#x1f1f2;'
        when 'zw'
            echo '&#x1f1ff;&#x1f1fc;'
    endcase

    echo '</i>'
-%}
